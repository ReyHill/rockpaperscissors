<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Project</title>
</head>
<body>
    <script>
        /*
         FUNCTION getComputerChoice - randomly return 'rock', 'paper', or 'scissors'.
         FUNCTION getPlayerSelection - prompts player to pick 'rock', 'paper', or 'scissors'. 
         FUNCTION playRound - plays a single round of rock paper scissors. Takes two parameters, playerSelection and computerSelection. Then, returns a string that declares winner/tie.
         FUNCTION playGame - call the playRound function five times.
        */

        function getComputerChoice () {
            let calc = Math.floor (Math.random() * 3 );
        if (calc === 0) {
            return ('rock');
        } else if (calc === 1) {
            return ('paper');
        } else if (calc === 2) {
            return ('scissors');
        }
        }

        // For now, the global constants playerSelection and computerSelection are defined with function calls as values. 
        // It will be seen if this is a viable solution when the game needs to be run more than once - the keyword may need to be changed to 'let' or another fix may be needed. 

        function getPlayerChoice () {
            let input = prompt ('Rock, Paper, or Scissors?', ''); 
            return input.toLowerCase();
        }

        const playerSelection = getPlayerChoice()
        const computerSelection = getComputerChoice ();

        function playGame () {
            // The issue is that the initial round is logged five times instead of the results of each round. 
            // The player is only prompted once to input a choice for the game. 
            // Log output also suggests that getComputerChoice() is either only run once or is run once and stuck with the same result. 
            console.log ( playRound (playerSelection, computerSelection) );
            console.log ( playRound (playerSelection, computerSelection) );
            console.log ( playRound (playerSelection, computerSelection) );
            console.log ( playRound (playerSelection, computerSelection) );
            console.log ( playRound (playerSelection, computerSelection) );
            

        function playRound (playerSelection, computerSelection) {

            switch (true) {
                case playerSelection === 'rock' && computerSelection === 'rock':
                    return ('Tie!');
                    break; 
                case playerSelection === 'paper' && computerSelection === 'paper':
                    return ('Tie!');
                    break;
                case playerSelection === 'scissors' && computerSelection === 'scissors':
                    return ('Tie!');
                    break;
                case playerSelection === 'rock' && computerSelection === 'paper':
                    return ('Player chose Rock, Computer chose Paper. Computer wins!');
                    break;
                case playerSelection === 'rock' && computerSelection === 'scissors':
                    return ('Player chose Rock, Computer chose Scissors. Player wins!');
                    break;
                case playerSelection === 'paper' && computerSelection === 'rock':
                    return ('Player chose Paper, Computer chose Rock. Player wins!');
                    break;
                case playerSelection === 'paper' && computerSelection === 'scissors':
                    return ('Player chose Paper, Computer chose Scissors. Computer wins!');
                    break;
                case playerSelection === 'scissors' && computerSelection === 'rock':
                    return ('Player chose Scissors, Computer chose Rock. Computer wins!');
                    break;
                case playerSelection === 'scissors' && computerSelection === 'paper':
                    return ('Player chose Scissors, Computer chose Paper. Computer wins!');
                    break;
                default:
                    return ('Game failure. Check for errors.');
                }
        }
    }
    playGame();

        /* 
        TO DO:
        ISSUE: When calling playRound () inside of playGame() five times, them initial round is copied for the other four instances. Will trace execution to find source issue. 
        RESEARCH: Discover how to seperate game instances so the player and computer are given five seperate opportunities to input a choice instead of just one. 
        CODING: Write playGame(), which calls playRound() five times - try using a for loop. Call PlayGame() at bottom of script. 
        CODING: Program a win counter that compares the total wins by both sides and returns a winner declaration. 
        */

    </script>
</body>
</html>